$ pip show websockets
Name: websockets
Version: 15.0.1

$ DB_PASSWORD=******** uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
INFO:     Uvicorn running on http://0.0.0.0:8000
INFO:     Application startup complete.
INFO:     127.0.0.1:59648 - "WebSocket /ws/notifications/4" [accepted]
ERROR:    Exception in ASGI application
AttributeError: 'generator' object has no attribute 'cursor'
  File ".../message.py", line 83, in mark_undelivered_as_delivered
    cursor = conn.cursor(dictionary=True)
INFO:     connection closed